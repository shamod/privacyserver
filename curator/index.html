<!doctype html>
<html>

<head>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" href="index.css">
</head>

<body>
    <header class="button-area">
        <button class="create-schema" type="button" id="btnCreateSchema">Create Schema</button>
        <button class="create-schema" type="button" id="btnDBConn">DB Connection</button>
    </header>
    <section class="schema-name">
        <form>
            <div>
                <label for="schema-name">
                    <span>Schema Name:</span>
                    <input type="text" name="schemaname" id="schema-name">
                </label>
                <button type="button" class="schema-name__btn">Create</button>
            </div>
        </form>
    </section>
    <section class="schema-type">
        <div class="tabs">
            <button id="btnPerson" class="tabs-link" type="button">Person</button>
            <button id="btnUser" class="tabs-link" type="button">User</button>
        </div>
        <div id="tab-content-person" class="tab-content">
            <form>
                <div>
                    <label for="field-name">
                        <span>Field name:</span>
                        <input type="text" id="field-name">
                        <button type="button">Create</button>
                    </label>
                </div>
            </form>
            <table>
                <thead>
                    <tr>
                        <th></th>
                        <th>Private?</th>
                        <th>Mask</th>
                        <th>Encrypt</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Firstname:</td>
                        <td><input type="checkbox" id="chk-private"></td>
                        <td><input type="checkbox" id="chk-mask"></td>
                        <td><input type="checkbox" id="chk-encrypt"></td>
                    </tr>
                    <tr>
                        <td>Lastname:</td>
                        <td><input type="checkbox" id="chk-private"></td>
                        <td><input type="checkbox" id="chk-mask"></td>
                        <td><input type="checkbox" id="chk-encrypt"></td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div id="tab-content-user" class="tab-content">
            <form>
                <div>
                    <label for="field-name">
                        <span>Field name:</span>
                        <input type="text" id="field-name">
                        <button type="button">Create</button>
                    </label>
                </div>
            </form>
            <table>
                <thead>
                    <tr>
                        <th></th>
                        <th>Private?</th>
                        <th>Mask</th>
                        <th>Encrypt</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Username:</td>
                        <td><input type="checkbox" id="chk-private"></td>
                        <td><input type="checkbox" id="chk-mask"></td>
                        <td><input type="checkbox" id="chk-encrypt"></td>
                    </tr>
                    <tr>
                        <td>Password:</td>
                        <td><input type="checkbox" id="chk-private"></td>
                        <td><input type="checkbox" id="chk-mask"></td>
                        <td><input type="checkbox" id="chk-encrypt"></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </section>
    <div id="connectionModal" class="conn-modal">
        <div class="conn-modal-header">
            <p>Database Information</p>
            <span class="close">&times;</span>
        </div>
        <div class="conn-modal-content">
            <form>
                <div>
                    <label for="dbType"> 
                        <span>DB Type:</span>
                        <select id="dbType">
                            <option value="Mongo">Mongo</option>
                            <option value="MySql">MySql</option>
                            <option value="Postgres">Postgres</option>
                        </select>
                    </label>
                </div>
                <div>
                    <label for="dbConnection">
                        <span>DB Connection:</span>
                        <input type="text" id="dbConnection">
                    </label>
                </div>
                <div>
                    <button type="button" disabled>Connect</button>
                    <button type="button" disabled>Test</button>                    
                </div>
            </form>
        </div>
    </div>
    <script>
        let connModal = document.getElementsByClassName('conn-modal')[0];
        let btnDBConn = document.getElementById('btnDBConn');
        btnDBConn.addEventListener('click', (event) => {
            connModal.style.display = 'block';
        });
        let btnCrossClose = document.getElementsByClassName('close')[0];
        btnCrossClose.addEventListener('click', () => {
            connModal.style.display = 'none';
        });
        window.addEventListener('click', (event) => {
            if (event.target === connModal) {
                btnCrossClose.click();
            }
        })
        let schemaName = document.getElementsByClassName('schema-name')[0];
        let btnCreateSchema = document.getElementById('btnCreateSchema');
        btnCreateSchema.addEventListener('click', () => {
            schemaName.style.display = 'block';
        })
    
        let btnPerson = document.getElementById('btnPerson');
        btnPerson.addEventListener('click', (event) => {
            this.openTabContent(event, 'tab-content-person');
        });
        let btnUser = document.getElementById('btnUser');
        btnUser.addEventListener('click', (event) => {
            this.openTabContent(event, 'tab-content-user');
        });
        function openTabContent(event, tabname) {
            let tabContents = document.getElementsByClassName('tab-content');
            for(let i = 0; i < tabContents.length; i++) {
                tabContents[i].style.display = 'none';
            };
            let tabLinks = document.getElementsByClassName('tabs-link');
            for(let j = 0; j < tabLinks.length; j++) {
                tabLinks[j].className = tabLinks[j].className.replace(' active', '');
            };
            document.getElementById(tabname).style.display = 'block';
            event.target.className += ' active';
        }
        
        btnPerson.click();

        let btnCreateSchemaName = document.getElementsByClassName('schema-name__btn')[0];
        btnCreateSchemaName.addEventListener('click', () => {
            document.getElementsByClassName('schema-type')[0].style.display = 'block';
        })
    </script>
</body>

</html>